<app-not-logged-in-header class="w-full"></app-not-logged-in-header>

<div class="container">
  <div class="text-on-left">
    <img src="../../../assets/images/doctors.png">
  </div>
  <mat-card>
    <mat-card-title>{{ 'register.step-one.title' | translate }}</mat-card-title>
    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="signUpStepOne()">
        <mat-form-field appearance="fill">
          <input type="text"
                 matInput
                 placeholder="{{ 'register.step-one.username' | translate }}"
                 formControlName="username"/>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <input type="text"
                 matInput
                 placeholder="{{ 'register.step-one.email' | translate }}"
                 formControlName="email"/>

          <mat-error *ngIf="form.controls['email'].invalid">
            {{ form.controls['email'].errors | formErrorTranslate }}
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <input type="text"
                 matInput
                 placeholder="{{ 'register.step-one.phone-number' | translate }}"
                 formControlName="phoneNumber"/>

        </mat-form-field>

        <mat-form-field appearance="fill">
          <input
            matInput
            formControlName="password"
            placeholder="{{ 'register.step-one.password' | translate }}"
            type="password"
            [type]="shouldHidePassword ? 'password' : 'text'"/>
          <button
            mat-icon-button
            matSuffix
            type="button"
            (click)="shouldHidePassword = !shouldHidePassword"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="shouldHidePassword">
            <mat-icon>{{
              shouldHidePassword ? 'visibility_off' : 'visibility'
              }}</mat-icon>
          </button>

          <mat-error *ngIf="form.controls['password'].touched && form.invalid">
            {{ form.controls['password'].errors | formErrorTranslate }}
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <input
            matInput
            formControlName="confirmPassword"
            placeholder="{{ 'register.step-one.confirm-password' | translate }}"
            type="password"
            [type]="shouldHideConfirmPassword ? 'password' : 'text'"/>
          <button
            mat-icon-button
            matSuffix
            type="button"
            (click)="shouldHideConfirmPassword = !shouldHideConfirmPassword"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="shouldHideConfirmPassword">
            <mat-icon>{{
              shouldHideConfirmPassword ? 'visibility_off' : 'visibility'
              }}</mat-icon>
          </button>

        </mat-form-field>

        <mat-error
          *ngIf="form.controls['confirmPassword'].touched && form.invalid">
          {{ form.errors | formErrorTranslate }}
        </mat-error>

        <button type="submit" mat-flat-button color="primary" [disabled]="form.invalid">
          {{ 'register.step-one.register-button' | translate }}
        </button>

        <app-error-message [errorMessage]="error"></app-error-message>

      </form>
    </mat-card-content>
  </mat-card>

</div>
